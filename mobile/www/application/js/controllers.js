CommuttrApp.controller("AuthController",["$ionicModal","$scope","$state","AuthService","UserService","HelperService",function(e,o,t,r,n,a){o.account={},o.login={},o.showCreateAccountModal=function(){o.createAccountModal.show(),ionic.material.ink.displayEffect()},o.showSignInModal=function(){o.loginModal.show(),ionic.material.ink.displayEffect()};var i=function(){e.fromTemplateUrl("application/templates/auth/modal_create_account.html",{scope:o,animation:"slide-in-up"}).then(function(e){o.createAccountModal=e})},c=function(){e.fromTemplateUrl("application/templates/auth/modal_login.html",{scope:o,animation:"slide-in-up"}).then(function(e){o.loginModal=e})};o.closeCreateAccountModal=function(){o.createAccountModal.hide()},o.submitCreateAccount=function(){var e=o.account;return e.email&&(""+e.email).length?e.password&&(""+e.password).length?e.name&&(""+e.name).length?(a.loader(!0),void n.create(e.email,e.password,e.name).success(function(e){e.data&&a.loader()}).error(function(e){var o=e.errors.message;a.loader();for(var t in o)for(var r in o[t])a.popup(o[t][r],"Error")})):void a.popup("We need your name.","Error!"):void a.popup("We need your password.","Error!"):void a.popup("We need your email.","Error!")},o.closeSignInModal=function(){o.loginModal.hide()},o.submitSignIn=function(){var e=o.login;return e.email&&(""+e.email).length?e.password&&(""+e.password).length?(a.loader(!0),void r.validate(e.email,e.password).success(function(e){e.results}).error(function(e){a.loader(),a.popup(e.errors.message,"Error")})):void a.popup("We need your password to login.","Error"):void a.popup("We need your email to login.","Error")},i(),c(),ionic.material.ink.displayEffect()}]),CommuttrApp.controller("RouteDetailController",["$scope","$stateParams","HelperService","RouteService",function(e,o,t,r){e.route={};var n=function(){var t=o.id;r.getRoute(t).success(function(o){o.data&&(e.route=o.data.route,a())})},a=function(){{var e={mapTypeId:google.maps.MapTypeId.ROADMAP,center:new google.maps.LatLng(-34.397,150.644)};new google.maps.Map(document.getElementById("map_canvas"),e),new google.maps.LatLngBounds}};n(),ionic.material.ink.displayEffect()}]),CommuttrApp.controller("RouteSearchController",["$scope","$stateParams","$timeout","HelperService","RouteService",function(e,o,t,r,n){e.searchResults={},r.loader(!0);var a=function(){var t={keyword:o.keyword};n.search(t).success(function(o){o.data&&(e.searchResults=o.data.results,r.loader())})};a(),e.$on("ngLastRepeat.list",function(e){ionic.material.ink.displayEffect()})}]),CommuttrApp.controller("FooterController",["$scope","$state",function(e,o){e.checkUserLoggedIn=function(){o.go("auth")}}]),CommuttrApp.controller("HomeController",["$ionicViewSwitcher","$scope","$state",function(e,o,t){o.search={},o.searchRoute=function(){e.nextDirection("forward"),t.go("routes.search",{keyword:o.search.query})},ionic.material.ink.displayEffect()}]);