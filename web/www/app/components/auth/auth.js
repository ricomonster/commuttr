!function(){function o(o){return{register:function(r,t,e,s){return o.post("http://localhost:8000/api/v2.0/users/create","email="+(r||" ")+"&password="+(t||" ")+"&name="+(e||" ")+"&type="+(s||" "))},login:function(r,t){return o.post("http://localhost:8000/api/v2.0/auth/login","email="+(r||" ")+"&password="+(t||""))}}}angular.module("commuttrApp.authComponents").factory("AuthComponentService",["$http",o])}(),function(){"use strict";function o(o){}angular.module("commuttrApp.authComponents").controller("AuthController",["$state",o])}(),function(){"use strict";function o(o,r,t,e,s){var n=this;n.login={},n.showErrors=!1,n.submitLogin=function(){s.show("Validating..."),n.showErrors=!1,t.login(n.login.email,n.login.password).success(function(t){t.user&&(e.set("user",t.user),o.$broadcast("logged-in"),s.show("You have successfully logged in.",5e3),r.go("landing"))}).error(function(o){s.hide(),n.errors=o.errors.message,n.showErrors=!0})}}angular.module("commuttrApp.authComponents").controller("AuthLoginController",["$rootScope","$state","AuthComponentService","StorageService","ToastService",o])}(),function(){"use strict";function o(o,r,t){this.register={},this.errors={},this.showErrors=!1,this.userTypes=[{value:1,type:"Commuter"},{value:2,type:"Driver"}],this.submitRegistration=function(){var o=this,e=o.register;t.show("Saving..."),o.showErrors=!1,r.register(e.email,e.password,e.name,e.type).success(function(o){o.result&&t.show("You have successfully registered. You can now logged in.")}).error(function(r){t.hide(),o.errors=r.errors.message,o.showErrors=!0})}}angular.module("commuttrApp.authComponents").controller("AuthRegisterController",["$state","AuthComponentService","ToastService",o])}();